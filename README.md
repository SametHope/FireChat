# FireChat
This is a chat app for Windows made as a for practice and example using WPF and Firebase Realtime Database with FireSharp.  
More information about the techstack used and images of the app as well as the database structure are listed below.   

## Frontend
- **Technology:** Windows Presentation Foundation (.Net Framework 4.8) themed with [MahApps.Metro](https://github.com/MahApps/MahApps.Metro).
- **Choice Rationale:** Opted for WPF due to its suitability for rapid development and lack of cross-platform requirements. Would consider [Avalonia](https://avaloniaui.net/) if cross-platform functionality were needed.
- **Framework Version:** Selected .Net Framework 4.8 for WPF as it's pre-installed on modern Windows machines, eliminating the need to package the runtime with the app. Utilized [build tools/extensions](https://github.com/Fody/Costura) for a compact build.

## Backend
- **Database:** Used [Firebase Realtime Database](https://firebase.google.com/docs/database) with [FireSharp](https://github.com/bugthesystem/FireSharp) as the API.
- **Implementation:** Backend operations are mainly handled in a single class named [ChatDatabase](https://github.com/SametHope/FireChat/blob/main/Database/ChatDatabase.cs), a basic wrapper around FireSharp tailored for my usage, utilizing FireSharp API features such as `FirebaseConfig`, `FirebaseClient`, `Client.GetAsync`, `Client.SetAsync`, `Client.DeleteAsync`, `Client.PushAsync`, and `Client.OnAsync`.
- **Security Measures:** Used [Bcrypt.Net-Next](https://github.com/BcryptNet/bcrypt.net) for hashing and salting passwords before storage in the database, caring for security even in a demo environment.

## Images
### Project Solution Structure
The DatabaseTester class is made for console apps and I left it on the project as a reference.  
  
![Ekran görüntüsü 2024-05-09 115456](https://github.com/SametHope/FireChat/assets/85421686/a7c6a8db-9787-465b-bf3f-65ca03ae5616)
### Database Structure
Usernames are used as primary keys. Message keys are generated by Firebase/FireSharp itself when they are pushed into the Messages table.  
  
![Ekran görüntüsü 2024-05-09 112619](https://github.com/SametHope/FireChat/assets/85421686/a9696d7b-3033-4721-a186-88aecd0382d1)  
### Login Window
![Ekran görüntüsü 2024-05-09 105343](https://github.com/SametHope/FireChat/assets/85421686/c8439d45-578f-422b-8aec-6c2941eb7ed0)  
### Register Window
![Ekran görüntüsü 2024-05-09 105501](https://github.com/SametHope/FireChat/assets/85421686/0b288945-db68-408e-9ad9-66d797ad4213)  
### Chat Window
You can see 2 messages sent by the currently logged in client. The username and the nickname is visible on the title.  
You can also choose to set your nickname as "anonymous" on your messages if you want to. The actual senders username is still sent to the database.  
  
![Ekran görüntüsü 2024-05-09 105726](https://github.com/SametHope/FireChat/assets/85421686/e30cc549-be2f-4c3a-a28d-81808be7d56f)  
### Chat Window Fullscreen
I used the Grid control to scale up the height of the messages ListView when relevant so more messages can be viewed on fullscreen and made the app more responsive.  
Also noticee this image is from another client with a different logged in account.  
  
![Ekran görüntüsü 2024-05-09 110106](https://github.com/SametHope/FireChat/assets/85421686/2decfd35-4573-4111-b790-d5ceb297a06a)  
### No Connection Screen
This screen is displayed if the connection with the database is not established.  
  
![Ekran görüntüsü 2024-05-09 110222](https://github.com/SametHope/FireChat/assets/85421686/8a41ffb8-df6a-41af-b171-ba00cac92183)  

# Notes

## Security
- The secret key and database path are hardcoded.
- This setup suits my use case as I'm on a Spark (free) account; excess requests are simply denied by the server.
- Permissions are not configured, meaning anyone can manipulate data. Exercise caution and **avoid using real passwords**.

## Miscellaneous
- The project lacks a proper commit history due to not starting with version control.
- Originally developed using Winforms, but due to compatibility issues with my custom DPI settings, I rewrote the app using WPF.
- Avalonia was initially considered, but limited knowledge in WPF/xaml/MVVM led to choosing WPF.
- Opting for WPF also reduced the executable size to ~2.5 MB, which I find favorable.

